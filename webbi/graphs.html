<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Graphs</title>
  <link rel="stylesheet" href="styles.css" />
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
  <div class="background">
    <div class="container">
      <h1 style="text-align: center;">Graphs</h1>

      <!-- Temperatur -->
      <div class="card">
        <h3>Temperature Over Time</h3>
        <canvas id="tempChart" height="100"></canvas>
      </div>

      <!-- OD -->
      <div class="card">
        <h3>Algae Concentration (OD) Over Time</h3>
        <canvas id="odChart" height="100"></canvas>
      </div>

      <!-- Pump -->
      <div class="card">
        <h3>Pump Speed Over Time</h3>
        <canvas id="pumpChart" height="100"></canvas>
      </div>

      <!-- Time Picker (below graphs) -->
      <style>
        .switch {
          position: relative;
          display: inline-block;
          width: 40px;
          height: 22px;
          vertical-align: middle;
        }
        .switch input { opacity: 0; width: 0; height: 0; }
        .slider {
          position: absolute;
          cursor: pointer;
          top: 0; left: 0; right: 0; bottom: 0;
          background-color: #003366;
          transition: .4s;
          border-radius: 22px;
        }
        .slider:before {
          position: absolute;
          content: "";
          height: 16px;
          width: 16px;
          left: 3px;
          bottom: 3px;
          background-color: #fff;
          transition: .4s;
          border-radius: 50%;
        }
        input:checked + .slider {
          background-color: #00b300;
        }
        input:checked + .slider:before {
          transform: translateX(18px);
        }
        .toggle-label, .range-label {
          color: #003366;
          font-weight: 500;
          margin-bottom: 0.5rem;
          display: flex;
          align-items: center;
          gap: 0.5rem;
        }
        .interval-fields {
          display: flex;
          flex-direction: row;
          gap: 2rem;
          justify-content: center;
          flex-wrap: wrap;
        }
        .interval-col {
          display: flex;
          flex-direction: column;
          align-items: center;
          min-width: 120px;
        }
      </style>
      <div class="interval-fields" style="margin: 30px 0 20px 0;">
        <div class="interval-col" style="align-items: flex-start;">
          <label class="range-label" for="fromDay">From:</label>
          <input type="date" id="fromDay" min="2025-06-01" max="2025-06-30" value="2025-06-18" style="width: 140px;">
          <input type="time" id="fromTime" style="margin-top: 0.5rem; width: 140px; display: block;">
        </div>
        <div class="interval-col" id="toFields" style="align-items: flex-start;">
          <label class="range-label" for="toDay">To:</label>
          <input type="date" id="toDay" min="2025-06-01" max="2025-06-30" value="2025-06-18" style="width: 140px;">
          <input type="time" id="toTime" style="margin-top: 0.5rem; width: 140px; display: block;">
        </div>
        <div class="interval-col" style="justify-content: flex-end;">
          <label class="toggle-label">Live (updates until now)
            <span class="switch">
              <input type="checkbox" id="liveMode">
              <span class="slider"></span>
            </span>
          </label>
          <button id="fetchBtn" style="margin-top: 1rem;">Show Data</button>
        </div>
      </div>

      <!-- ZurÃ¼ck Button -->
      <div style="text-align: center; margin-top: 30px;">
        <button onclick="window.location.href='index.html'">ðŸ”™ Back to Dashboard</button>
      </div>
    </div>
  </div>

  <script src="graphscript.js"></script>
</body>
</html>